define(["zepto","template","base"],function(e,t){(function(e){window.myapp=window.myapp||{},myapp.main={init:function(n){this.option=e.extend({sitecode:"",data:"",model:""},n),this.qjdata=this.option.data,this.sitecode=this.option.sitecode;var r=this.option.isPc;t=base.util.helperTemplate(t);if(this.qjdata.effect){var i=this.qjdata.effect.floatetc.value,s="m-leafShower";i=="meteor"?s="m-meteorShower":i=="cloudbg"&&(s="m-animationCloudBg"),this.qjdata.effect.animatype=s}var o=t("app_template",this.qjdata);e("#MainContent").empty().html(o).show(),require(["wedding/effect/js/modules/main"],function(e){e.init()});var u=this},touchEvn:function(e){},showTab:function(e){e.addClass("z-current").siblings().removeClass("z-current"),e.get(0).style.webkitTransform="translateY(0px)"},addPraise:function(t){var n=this;base.ajax.getJSON("/app/addSitePraise",{sitecode:t},function(t){if(t.status===200){var n=e("#J_praise"),r=n.text();n.text(parseInt(r)+1),n.attr("class","m-curr"),n.unbind("click")}else floatNotify.simple(t.entity,"",2e3)})}}})(e)});